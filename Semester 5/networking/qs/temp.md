### 3. Circuit vs. Packet Switching

* **When circuit switching is used, how many users can be supported?**
    * **Answer:** **2 users.**
    * **Reasoning:** Circuit switching reserves a dedicated, fixed-rate "circuit" for each user. Each user needs 1 Mbps of *guaranteed* capacity. Since the total link capacity is 2 Mbps, you can only support $2 \text{ Mbps} / 1 \text{ Mbps per user} = 2 \text{ users}$.

* **Why will there be essentially no queuing delay... if two or fewer users transmit?**
    * **Answer:** The total arrival rate is less than or equal to the link's capacity.
    * **Reasoning:** The link's capacity (service rate) is 2 Mbps.
        * If 1 user transmits, the arrival rate is 1 Mbps.
        * If 2 users transmit, the arrival rate is $1 + 1 = 2 \text{ Mbps}$.
        * In both cases, the arrival rate is $\leq$ the service rate. Packets are forwarded as fast as they arrive, so no backlog (queue) forms.

* **Why will there be queuing delay... if three users transmit at the same time?**
    * **Answer:** The total arrival rate (3 Mbps) is **greater than** the link's capacity (2 Mbps).
    * **Reasoning:** Packets arrive faster ($3 \text{ Mbps}$) than they can be sent ($2 \text{ Mbps}$). The excess packets (1 Mbps worth) must be stored in a buffer (queue) to wait for their turn to be transmitted.

* **Find the probability that a given user is transmitting.**
    * **Answer:** **0.2** (or 20%). This is stated directly in the problem ("each user transmits only 20 percent of the time").

* **Find the probability that... all three users are transmitting simultaneously.**
    * **Answer:** **0.008** (or 0.8%).
    * **Reasoning:** Since each user's transmission is an independent event, we multiply their individual probabilities:
        $P(\text{all three}) = P(\text{user 1}) \times P(\text{user 2}) \times P(\text{user 3})$
        $P(\text{all three}) = 0.2 \times 0.2 \times 0.2 = \mathbf{0.008}$

* **Find the fraction of time during which the queue grows.**
    * **Answer:** **0.008** (or 0.8%).
    * **Reasoning:** As we determined, the queue *only* grows when the arrival rate is greater than the 2 Mbps capacity. This *only* happens when all three users transmit simultaneously (creating 3 Mbps of traffic). Therefore, the fraction of time the queue grows is equal to the probability that all three users are transmitting, which we just calculated.

---

### 4. VoIP End-to-End Delay Calculation

The total time (delay) is the sum of all the delays from the moment the bit is created until it is decoded. A bit cannot be decoded until the *entire packet* it belongs to has been received.

The total delay has three components:
1.  **Packetization Delay ($d_{\text{packet}}$):** The time it takes for Host A to *collect* enough bits to fill one packet.
2.  **Transmission Delay ($d_{\text{trans}}$):** The time it takes for Host A to *push* all the packet's bits onto the link.
3.  **Propagation Delay ($d_{\text{prop}}$):** The time it takes for a bit to *travel* across the link from A to B.

**1. Packetization Delay:**
* **Packet Size:** 4000 bytes $\times$ 8 bits/byte = 32,000 bits
* **Conversion Rate:** 64 kbps = 64,000 bits per second
* **Time:** $d_{\text{packet}} = \text{Packet Size} / \text{Conversion Rate} = 32,000 \text{ bits} / 64,000 \text{ bits/s} = \mathbf{0.5 \text{ s}}$

**2. Transmission Delay:**
* **Packet Size:** 32,000 bits
* **Link Rate:** 10 Mbps = 10,000,000 bits per second
* **Time:** $d_{\text{trans}} = \text{Packet Size} / \text{Link Rate} = 32,000 \text{ bits} / 10,000,000 \text{ bits/s} = \mathbf{0.0032 \text{ s}}$

**3. Propagation Delay:**
* **Given:** 10 milliseconds = $\mathbf{0.01 \text{ s}}$

**Total Time:**
* $d_{\text{total}} = d_{\text{packet}} + d_{\text{trans}} + d_{\text{prop}}$
* $d_{\text{total}} = 0.5 \text{ s} + 0.0032 \text{ s} + 0.01 \text{ s}$
* $d_{\text{total}} = \mathbf{0.5132 \text{ seconds}}$ (or 513.2 ms)

---

### 5. Protocol Data Units (PDUs)

These are the names for the "packet" of data at each layer of the TCP/IP model. This process is called **encapsulation**, where each layer wraps the data from the layer above it in a new header.

* **Application-layer message:** This is the raw data generated by a user application, such as an HTTP GET request, an email (SMTP), or a file transfer (FTP).
* **Transport-layer segment:** This is the application-layer message encapsulated with a transport header (like **TCP** or **UDP**). This header adds source and destination **port numbers**, which identify the specific application/process on the host.
* **Network-layer datagram:** This is the transport-layer segment encapsulated with a network header (like **IP**). This header adds source and destination **IP addresses**, which identify the specific hosts on the network.
* **Link-layer frame:** This is the network-layer datagram encapsulated with a link-layer header and trailer (like **Ethernet**). This header adds source and destination **MAC addresses**, which identify the specific network interface cards (NICs) for the next hop.
